{
  "fail_on_unmapped_docs": true,
  "required_doc_globs": [
    "docs/projects/veterinary-medical-records/*.md",
    "docs/projects/veterinary-medical-records/**/*.md",
    "docs/shared/*.md",
    "docs/shared/**/*.md"
  ],
  "exclude_doc_globs": [
    "docs/projects/veterinary-medical-records/delivery/plans/*",
    "docs/projects/veterinary-medical-records/delivery/plans/**/*"
  ],
  "rules": [
    {
      "doc_glob": "docs/agent_router/*.md",
      "description": "Root router docs must keep router/doc-updates contract tests aligned.",
      "rule_change_only": true,
      "owner_any": [
        "docs/agent_router/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py"
      ]
    },
    {
      "doc_glob": "docs/agent_router/**/*.md",
      "description": "Router workflow changes must keep router/doc-updates contract tests aligned.",
      "rule_change_only": true,
      "owner_any": [
        "docs/agent_router/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py"
      ]
    },
    {
      "doc_glob": "docs/shared/BRAND_GUIDELINES.md",
      "description": "Shared BRAND_GUIDELINES changes require propagation to its owner module and brand guard alignment.",
      "owner_any": [
        "docs/agent_router/03_SHARED/BRAND_GUIDELINES/*.md",
        "docs/agent_router/03_SHARED/BRAND_GUIDELINES/**/*.md"
      ],
      "required_any": [
        "scripts/check_brand_compliance.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py"
      ]
    },
    {
      "doc_glob": "docs/shared/ENGINEERING_PLAYBOOK.md",
      "description": "Shared ENGINEERING_PLAYBOOK changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/03_SHARED/ENGINEERING_PLAYBOOK/*.md",
        "docs/agent_router/03_SHARED/ENGINEERING_PLAYBOOK/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py"
      ]
    },
    {
      "doc_glob": "docs/shared/UX_GUIDELINES.md",
      "description": "Shared UX_GUIDELINES changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/03_SHARED/UX_GUIDELINES/*.md",
        "docs/agent_router/03_SHARED/UX_GUIDELINES/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/ops/MANUAL_QA_REGRESSION_CHECKLIST.md",
      "description": "Project MANUAL_QA_REGRESSION_CHECKLIST changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/archive/DOCS_IMPROVEMENT_PLAN.md",
      "description": "DOCS_IMPROVEMENT_PLAN changes require doc-updates guard alignment for this documentation refactor stream.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py",
        "backend/tests/unit/test_doc_updates_contract.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/archive/AI_ITERATIVE_EXECUTION_PLAN.md",
      "description": "Project AI_ITERATIVE_EXECUTION_PLAN changes (including new execution phases like F8/F9+, canonical STOP handoff guardrails, and token-efficiency policy) require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/AI_ITERATIVE_EXECUTION_PLAN/*.md",
        "docs/agent_router/04_PROJECT/AI_ITERATIVE_EXECUTION_PLAN/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/delivery/FUTURE_IMPROVEMENTS.md",
      "description": "Project FUTURE_IMPROVEMENTS changes require propagation to its owner module and doc-updates guards.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/FUTURE_IMPROVEMENTS/*.md",
        "docs/agent_router/04_PROJECT/FUTURE_IMPROVEMENTS/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/ARCHITECTURE.md",
      "description": "Project ARCHITECTURE changes require doc-updates mapping/guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/adr/**/*.md",
      "description": "Project ADR nested changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py",
        "backend/tests/unit/test_doc_updates_contract.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/adr/*.md",
      "description": "Project ADR root-level changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py",
        "backend/tests/unit/test_doc_updates_contract.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/delivery/DELIVERY_SUMMARY.md",
      "description": "Project DELIVERY_SUMMARY changes require propagation to its owner module; guard infrastructure updates required only for rule-level changes.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/DELIVERY_SUMMARY/*.md",
        "docs/agent_router/04_PROJECT/DELIVERY_SUMMARY/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/04_PROJECT/DELIVERY_SUMMARY/*.md",
        "docs/agent_router/04_PROJECT/DELIVERY_SUMMARY/**/*.md",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/archive/12_FACTOR_AUDIT.md",
      "description": "Project 12_FACTOR_AUDIT changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/12_FACTOR_AUDIT/*.md",
        "docs/agent_router/04_PROJECT/12_FACTOR_AUDIT/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/archive/codebase_audit.md",
      "description": "Project codebase_audit changes (including finding status updates such as SQLite concurrency remediation) require doc sync/parity guard alignment.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/CODEBASE_AUDIT/*.md",
        "docs/agent_router/04_PROJECT/CODEBASE_AUDIT/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/archive/CTO_REVIEW_VERDICT.md",
      "description": "Project CTO_REVIEW_VERDICT changes require propagation to its owner module and doc-updates guards.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/00_entry.md",
        "docs/agent_router/04_PROJECT/CTO_REVIEW_VERDICT/*.md",
        "docs/agent_router/04_PROJECT/CTO_REVIEW_VERDICT/**/*.md"
      ],
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/ops/PLAN_E2E_TEST_COVERAGE.md",
      "description": "Project testing plans require doc-updates mapping/guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/BACKEND_IMPLEMENTATION.md",
      "description": "Project BACKEND_IMPLEMENTATION changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/BACKEND_IMPLEMENTATION/*.md",
        "docs/agent_router/04_PROJECT/BACKEND_IMPLEMENTATION/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "scripts/check_doc_test_sync.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/design/DESIGN_SYSTEM.md",
      "description": "Project DESIGN_SYSTEM changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/DESIGN_SYSTEM/*.md",
        "docs/agent_router/04_PROJECT/DESIGN_SYSTEM/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/FRONTEND_IMPLEMENTATION.md",
      "description": "Project FRONTEND_IMPLEMENTATION changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/FRONTEND_IMPLEMENTATION/*.md",
        "docs/agent_router/04_PROJECT/FRONTEND_IMPLEMENTATION/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/delivery/IMPLEMENTATION_PLAN.md",
      "description": "Project IMPLEMENTATION_PLAN changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/IMPLEMENTATION_PLAN/*.md",
        "docs/agent_router/04_PROJECT/IMPLEMENTATION_PLAN/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/design/PRODUCT_DESIGN.md",
      "description": "Project PRODUCT_DESIGN changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/PRODUCT_DESIGN/*.md",
        "docs/agent_router/04_PROJECT/PRODUCT_DESIGN/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/delivery/IMPLEMENTATION_HISTORY.md",
      "description": "Project IMPLEMENTATION_HISTORY changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/ops/EXECUTION_RULES.md",
      "description": "Project EXECUTION_RULES changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/metrics/COPILOT_USAGE.md",
      "description": "Project COPILOT_USAGE changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/ops/PLAN_E2E_TEST_COVERAGE.md",
      "description": "Project testing plan changes require doc-updates guard alignment.",
      "required_any": [
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/test_impact_map.json",
        "docs/agent_router/01_WORKFLOW/DOC_UPDATES/router_parity_map.json",
        "scripts/check_doc_test_sync.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/tech/TECHNICAL_DESIGN.md",
      "description": "Project TECHNICAL_DESIGN changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/TECHNICAL_DESIGN/*.md",
        "docs/agent_router/04_PROJECT/TECHNICAL_DESIGN/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    },
    {
      "doc_glob": "docs/projects/veterinary-medical-records/design/UX_DESIGN.md",
      "description": "Project UX_DESIGN changes require propagation to its owner module.",
      "owner_any": [
        "docs/agent_router/04_PROJECT/UX_DESIGN/*.md",
        "docs/agent_router/04_PROJECT/UX_DESIGN/**/*.md"
      ],
      "required_any": [
        "backend/tests/unit/test_doc_router_contract.py",
        "backend/tests/unit/test_doc_updates_contract.py",
        "backend/tests/unit/test_doc_updates_e2e_contract.py",
        "scripts/check_doc_router_parity.py"
      ]
    }
  ]
}
